<body class="bg-gradient-to-b from-indigo-100 to-blue-200 min-h-screen p-4 font-sans">
  <div class="max-w-md mx-auto">
    <h1 class="text-2xl font-bold text-center text-indigo-700 mb-6">Kalkulator IPK üìö</h1>

    <div id="table-body" class="space-y-4"></div>

    <div class="flex justify-between mt-6">
      <button onclick="addRow()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md shadow">
        ‚ûï Tambah
      </button>
      <button onclick="hitungIPK()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md shadow">
        Hitung IPK
      </button>
    </div>

    <p id="hasil" class="text-center text-lg font-semibold text-green-700 mt-4"></p>
  </div>

  <script>
    const nilaiMap = {
      "A": 4.0, "B+": 3.5, "B": 3.0,
      "C+": 2.5, "C": 2.0, "D+": 1.5,
      "D": 1.0, "E": 0.0
    };
    let counter = 1;

    function addRow() {
      const container = document.getElementById("table-body");

      const card = document.createElement("div");
      card.className = "bg-white p-4 rounded-lg shadow";

      card.innerHTML = `
        <label class="text-sm text-gray-600 block mb-1">Nama Mata Kuliah</label>
        <input type="text" value="Mata Kuliah ${counter++}" class="w-full border rounded px-3 py-2 mb-3 text-gray-800" />

        <div class="flex justify-between items-center gap-4">
          <div class="flex-1">
            <label class="text-sm text-gray-600 block mb-1">SKS</label>
            <input type="number" min="1" class="sks w-full border rounded px-3 py-2 text-center" />
          </div>
          <div class="flex-1">
            <label class="text-sm text-gray-600 block mb-1">Nilai</label>
            <select class="nilai w-full border rounded px-3 py-2">
              <option>A</option><option>B+</option><option>B</option><option>C+</option>
              <option>C</option><option>D+</option><option>D</option><option>E</option>
            </select>
          </div>
        </div>

        <div class="text-right mt-3">
          <button onclick="this.closest('div').remove()" class="text-red-500 text-sm flex items-center gap-1 hover:underline">
            üóëÔ∏è Hapus
          </button>
        </div>
      `;
      container.appendChild(card);
    }

    function hitungIPK() {
      const sksList = document.querySelectorAll(".sks");
      const nilaiList = document.querySelectorAll(".nilai");

      let totalSks = 0;
      let totalNilai = 0;

      for (let i = 0; i < sksList.length; i++) {
        const sks = parseFloat(sksList[i].value);
        const nilai = nilaiList[i].value;
        const angka = nilaiMap[nilai];

        if (!isNaN(sks)) {
          totalSks += sks;
          totalNilai += sks * angka;
        }
      }

      const ipk = totalSks > 0 ? (totalNilai / totalSks).toFixed(2) : 0;
      document.getElementById("hasil").innerText = `IPK Kamu: ${ipk}`;
    }

    window.onload = () => addRow(); // Tambah 1 kartu saat awal
  </script>
</body>
